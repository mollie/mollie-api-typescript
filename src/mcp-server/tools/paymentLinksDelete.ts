/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { paymentLinksDelete } from "../../funcs/paymentLinksDelete.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.DeletePaymentLinkRequest$inboundSchema,
};

export const tool$paymentLinksDelete: ToolDefinition<typeof args> = {
  name: "payment-links-delete",
  description: `Delete payment link

Payment links which have not been opened and no payments have been made yet can be deleted entirely.
This can be useful for removing payment links that have been incorrectly configured or that are no longer relevant.

Once deleted, the payment link will no longer show up in the API or Mollie dashboard.

To simply disable a payment link without fully deleting it, you can use the \`archived\` parameter on the
[Update payment link](update-payment-link) endpoint instead.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await paymentLinksDelete(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
