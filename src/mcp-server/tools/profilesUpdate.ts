/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { profilesUpdate } from "../../funcs/profilesUpdate.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.UpdateProfileRequest$inboundSchema,
};

export const tool$profilesUpdate: ToolDefinition<typeof args> = {
  name: "profiles-update",
  description: `Update profile

Update an existing profile.

Profiles are required for payment processing. Normally they are created and updated via the Mollie dashboard.
Alternatively, you can use this endpoint to automate profile management.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await profilesUpdate(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
