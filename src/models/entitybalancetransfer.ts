/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  Amount,
  Amount$inboundSchema,
  Amount$Outbound,
  Amount$outboundSchema,
} from "./amount.js";
import {
  BalanceTransferCategory,
  BalanceTransferCategory$inboundSchema,
  BalanceTransferCategory$outboundSchema,
} from "./balancetransfercategory.js";
import {
  EntityBalanceTransferParty,
  EntityBalanceTransferParty$inboundSchema,
  EntityBalanceTransferParty$Outbound,
  EntityBalanceTransferParty$outboundSchema,
} from "./entitybalancetransferparty.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

export type EntityBalanceTransfer = {
  /**
   * In v2 endpoints, monetary amounts are represented as objects with a `currency` and `value` field.
   */
  amount: Amount;
  /**
   * A party involved in the balance transfer, either the sender or the receiver.
   */
  source: EntityBalanceTransferParty;
  /**
   * A party involved in the balance transfer, either the sender or the receiver.
   */
  destination: EntityBalanceTransferParty;
  /**
   * The transfer description for initiating party.
   */
  description: string;
  /**
   * The type of the transfer. Different fees may apply to different types of transfers.
   */
  category?: BalanceTransferCategory | undefined;
  /**
   * A JSON object that you can attach to a balance transfer.
   *
   * @remarks
   * This can be useful for storing additional information about the transfer in a structured format. Maximum size is approximately 1KB.
   */
  metadata?: { [k: string]: any } | undefined;
  /**
   * Whether to create the entity in test mode or live mode.
   *
   * @remarks
   *
   * You can enable test mode by setting `testmode` to `true`.
   */
  testmode?: boolean | undefined;
};

/** @internal */
export const EntityBalanceTransfer$inboundSchema: z.ZodType<
  EntityBalanceTransfer,
  z.ZodTypeDef,
  unknown
> = z.object({
  amount: Amount$inboundSchema,
  source: EntityBalanceTransferParty$inboundSchema,
  destination: EntityBalanceTransferParty$inboundSchema,
  description: z.string(),
  category: BalanceTransferCategory$inboundSchema.optional(),
  metadata: z.record(z.any()).optional(),
  testmode: z.boolean().optional(),
});
/** @internal */
export type EntityBalanceTransfer$Outbound = {
  amount: Amount$Outbound;
  source: EntityBalanceTransferParty$Outbound;
  destination: EntityBalanceTransferParty$Outbound;
  description: string;
  category?: string | undefined;
  metadata?: { [k: string]: any } | undefined;
  testmode?: boolean | undefined;
};

/** @internal */
export const EntityBalanceTransfer$outboundSchema: z.ZodType<
  EntityBalanceTransfer$Outbound,
  z.ZodTypeDef,
  EntityBalanceTransfer
> = z.object({
  amount: Amount$outboundSchema,
  source: EntityBalanceTransferParty$outboundSchema,
  destination: EntityBalanceTransferParty$outboundSchema,
  description: z.string(),
  category: BalanceTransferCategory$outboundSchema.optional(),
  metadata: z.record(z.any()).optional(),
  testmode: z.boolean().optional(),
});

export function entityBalanceTransferToJSON(
  entityBalanceTransfer: EntityBalanceTransfer,
): string {
  return JSON.stringify(
    EntityBalanceTransfer$outboundSchema.parse(entityBalanceTransfer),
  );
}
export function entityBalanceTransferFromJSON(
  jsonString: string,
): SafeParseResult<EntityBalanceTransfer, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => EntityBalanceTransfer$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'EntityBalanceTransfer' from JSON`,
  );
}
